[nangel3][agent-server-1][~/research/convai/ranker] py extract_transitions_from_db.py

loading word2vec embeddings...
2018-02-28 23:35:50,684: features: INFO: loading nltk english stop words...
2018-02-28 23:35:50,698: features: INFO: set([u'all', u'just', u'being', u'over', u'both', u'through', u'yourselves', u'its', u'before', u'o', u'hadn', u'herself', u'll', u'had', u'should', u'to', u'only', u'won', u'under', u'ours', u'has', u'do', u'them', u'his', u'very', u'they', u'not', u'during', u'now', u'him', u'nor', u'd', u'did', u'didn', u'this', u'she', u'each', u'further', u'where', u'few', u'because', u'doing', u'some', u'hasn', u'are', u'our', u'ourselves', u'out', u'what', u'for', u'while', u're', u'does', u'above', u'between', u'mustn', u't', u'be', u'we', u'who', u'were', u'here', u'shouldn', u'hers', u'by', u'on', u'about', u'couldn', u'of', u'against', u's', u'isn', u'or', u'own', u'into', u'yourself', u'down', u'mightn', u'wasn', u'your', u'from', u'her', u'their', u'aren', u'there', u'been', u'whom', u'too', u'wouldn', u'themselves', u'weren', u'was', u'until', u'more', u'himself', u'that', u'but', u'don', u'with', u'than', u'those', u'he', u'me', u'myself', u'ma', u'these', u'up', u'will', u'below', u'ain', u'can', u'theirs', u'my', u'and', u've', u'then', u'is', u'am', u'it', u'doesn', u'an', u'as', u'itself', u'at', u'have', u'in', u'any', u'if', u'again', u'no', u'when', u'same', u'how', u'other', u'which', u'you', u'shan', u'needn', u'haven', u'after', u'most', u'such', u'why', u'a', u'off', u'i', u'm', u'yours', u'so', u'y', u'the', u'having', u'once'])
2018-02-28 23:35:50,698: features: INFO: 
2018-02-28 23:35:50,856: __main__: INFO: using ALL features: ['ArticleLength', 'AverageWordEmbedding_Article', 'AverageWordEmbedding_Candidate', 'AverageWordEmbedding_LastK', 'AverageWordEmbedding_User', 'AverageWordEmbedding_kUser', 'BigramOverlap', 'CandidateLength', 'ConfusionWords', 'DialogActCandidate', 'DialogActLastUser', 'DialogLength', 'EntityOverlap', 'GenericTurns', 'IntensifierWords', 'LastUserLength', 'Negation', 'NonStopWordOverlap', 'ProfanityWords', 'SentimentScoreCandidate', 'SentimentScoreLastUser', 'Similarity_CandidateArticle', 'Similarity_CandidateArticle_noStop', 'Similarity_CandidateKUser', 'Similarity_CandidateKUser_noStop', 'Similarity_CandidateLastK', 'Similarity_CandidateLastK_noStop', 'Similarity_CandidateUser', 'TrigramOverlap', 'WhWords']
2018-02-28 23:35:50,857: __main__: INFO: 
2018-02-28 23:35:50,858: __main__: INFO: Namespace(lemmatize=False, test_proportion=0.1, valid_proportion=0.1, vocab_threshold=1)
2018-02-28 23:35:50,858: __main__: INFO: 
2018-02-28 23:35:50,858: __main__: INFO: Get conversations from database and build data...
2018-02-28 23:35:54,457: __main__: INFO: conversation 1 / 90 ...
2018-02-28 23:36:06,251: __main__: INFO: conversation 2 / 90 ...
2018-02-28 23:36:17,024: __main__: INFO: conversation 3 / 90 ...
2018-02-28 23:36:28,860: __main__: INFO: conversation 4 / 90 ...
2018-02-28 23:36:41,997: __main__: INFO: conversation 5 / 90 ...
2018-02-28 23:36:52,083: __main__: INFO: conversation 6 / 90 ...
2018-02-28 23:37:05,951: __main__: INFO: conversation 7 / 90 ...
2018-02-28 23:37:14,703: __main__: INFO: conversation 8 / 90 ...
2018-02-28 23:37:21,146: __main__: INFO: conversation 9 / 90 ...
2018-02-28 23:37:31,906: __main__: INFO: conversation 10 / 90 ...
2018-02-28 23:37:43,407: __main__: INFO: conversation 11 / 90 ...
2018-02-28 23:37:57,131: __main__: INFO: conversation 12 / 90 ...
2018-02-28 23:38:05,089: __main__: INFO: conversation 13 / 90 ...
2018-02-28 23:38:15,612: __main__: INFO: conversation 14 / 90 ...
2018-02-28 23:38:27,760: __main__: INFO: conversation 15 / 90 ...
2018-02-28 23:38:39,891: __main__: INFO: conversation 16 / 90 ...
2018-02-28 23:38:50,091: __main__: INFO: conversation 17 / 90 ...
2018-02-28 23:39:02,797: __main__: INFO: conversation 18 / 90 ...
2018-02-28 23:39:15,775: __main__: INFO: conversation 19 / 90 ...
2018-02-28 23:39:29,273: __main__: INFO: conversation 20 / 90 ...
2018-02-28 23:39:38,617: __main__: INFO: conversation 21 / 90 ...
2018-02-28 23:39:50,183: __main__: INFO: conversation 22 / 90 ...
2018-02-28 23:39:56,675: __main__: INFO: conversation 23 / 90 ...
2018-02-28 23:40:06,589: __main__: INFO: conversation 24 / 90 ...
2018-02-28 23:40:15,226: __main__: INFO: conversation 25 / 90 ...
2018-02-28 23:40:27,325: __main__: INFO: conversation 26 / 90 ...
2018-02-28 23:40:52,732: __main__: INFO: conversation 27 / 90 ...
2018-02-28 23:41:01,943: __main__: INFO: conversation 28 / 90 ...
2018-02-28 23:41:13,437: __main__: INFO: conversation 29 / 90 ...
2018-02-28 23:41:28,455: __main__: INFO: conversation 30 / 90 ...
2018-02-28 23:41:36,802: __main__: INFO: conversation 31 / 90 ...
2018-02-28 23:42:00,070: __main__: INFO: conversation 32 / 90 ...
2018-02-28 23:42:17,504: __main__: INFO: conversation 33 / 90 ...
2018-02-28 23:42:30,133: __main__: INFO: conversation 34 / 90 ...
2018-02-28 23:42:40,708: __main__: INFO: conversation 35 / 90 ...
2018-02-28 23:42:48,319: __main__: INFO: conversation 36 / 90 ...
2018-02-28 23:43:03,169: __main__: INFO: conversation 37 / 90 ...
2018-02-28 23:43:16,022: __main__: INFO: conversation 38 / 90 ...
2018-02-28 23:43:32,623: __main__: INFO: conversation 39 / 90 ...
2018-02-28 23:43:48,234: __main__: INFO: conversation 40 / 90 ...
2018-02-28 23:43:59,642: __main__: INFO: conversation 41 / 90 ...
2018-02-28 23:44:18,570: __main__: INFO: conversation 42 / 90 ...
2018-02-28 23:44:32,257: __main__: INFO: conversation 43 / 90 ...
2018-02-28 23:44:44,262: __main__: INFO: conversation 44 / 90 ...
2018-02-28 23:45:02,039: __main__: INFO: conversation 45 / 90 ...
2018-02-28 23:45:14,793: __main__: INFO: conversation 46 / 90 ...
2018-02-28 23:45:33,148: __main__: INFO: conversation 47 / 90 ...
2018-02-28 23:45:43,031: __main__: INFO: conversation 48 / 90 ...
2018-02-28 23:45:53,128: __main__: INFO: conversation 49 / 90 ...
2018-02-28 23:46:05,696: __main__: INFO: conversation 50 / 90 ...
2018-02-28 23:46:16,496: __main__: INFO: conversation 51 / 90 ...
2018-02-28 23:46:26,308: __main__: INFO: conversation 52 / 90 ...
2018-02-28 23:46:39,021: __main__: INFO: conversation 53 / 90 ...
2018-02-28 23:46:53,184: __main__: INFO: conversation 54 / 90 ...
2018-02-28 23:47:07,104: __main__: INFO: conversation 55 / 90 ...
2018-02-28 23:47:14,136: __main__: INFO: conversation 56 / 90 ...
2018-02-28 23:47:28,182: __main__: INFO: conversation 57 / 90 ...
2018-02-28 23:47:43,438: __main__: INFO: conversation 58 / 90 ...
2018-02-28 23:47:53,691: __main__: INFO: conversation 59 / 90 ...
2018-02-28 23:48:05,039: __main__: INFO: conversation 60 / 90 ...
2018-02-28 23:48:22,915: __main__: INFO: conversation 61 / 90 ...
2018-02-28 23:48:34,562: __main__: INFO: conversation 62 / 90 ...
2018-02-28 23:48:43,709: __main__: INFO: conversation 63 / 90 ...
2018-02-28 23:48:54,856: __main__: INFO: conversation 64 / 90 ...
2018-02-28 23:49:12,990: __main__: INFO: conversation 65 / 90 ...
2018-02-28 23:49:18,104: __main__: INFO: conversation 66 / 90 ...
2018-02-28 23:49:28,095: __main__: INFO: conversation 67 / 90 ...
2018-02-28 23:49:42,383: __main__: INFO: conversation 68 / 90 ...
2018-02-28 23:49:49,804: __main__: INFO: conversation 69 / 90 ...
2018-02-28 23:50:05,576: __main__: INFO: conversation 70 / 90 ...
2018-02-28 23:50:15,988: __main__: INFO: conversation 71 / 90 ...
2018-02-28 23:50:28,503: __main__: INFO: conversation 72 / 90 ...
2018-02-28 23:50:39,900: __main__: INFO: conversation 73 / 90 ...
2018-02-28 23:50:54,520: __main__: INFO: conversation 74 / 90 ...
2018-02-28 23:51:03,508: __main__: INFO: conversation 75 / 90 ...
2018-02-28 23:51:17,589: __main__: INFO: conversation 76 / 90 ...
2018-02-28 23:51:31,539: __main__: INFO: conversation 77 / 90 ...
2018-02-28 23:51:41,600: __main__: INFO: conversation 78 / 90 ...
2018-02-28 23:51:52,152: __main__: INFO: conversation 79 / 90 ...
2018-02-28 23:52:04,471: __main__: INFO: conversation 80 / 90 ...
2018-02-28 23:52:20,651: __main__: INFO: conversation 81 / 90 ...
2018-02-28 23:52:34,402: __main__: INFO: conversation 82 / 90 ...
2018-02-28 23:52:45,855: __main__: INFO: conversation 83 / 90 ...
2018-02-28 23:52:58,750: __main__: INFO: conversation 84 / 90 ...
2018-02-28 23:53:10,576: __main__: INFO: conversation 85 / 90 ...
2018-02-28 23:53:21,431: __main__: INFO: conversation 86 / 90 ...
2018-02-28 23:53:31,100: __main__: INFO: conversation 87 / 90 ...
2018-02-28 23:53:52,598: __main__: INFO: conversation 88 / 90 ...
2018-02-28 23:54:04,842: __main__: INFO: conversation 89 / 90 ...
2018-02-28 23:54:16,697: __main__: INFO: conversation 90 / 90 ...
2018-02-28 23:54:28,799: __main__: INFO: Got 90 unique articles from 90 conversations. Total: 2894 examples
2018-02-28 23:54:28,800: __main__: INFO:  - 'very bad'  conversations: 5 / 90 = 0.055556
2018-02-28 23:54:28,800: __main__: INFO:  - 'bad'       conversations: 17 / 90 = 0.188889
2018-02-28 23:54:28,800: __main__: INFO:  - 'medium'    conversations: 46 / 90 = 0.511111
2018-02-28 23:54:28,800: __main__: INFO:  - 'good'      conversations: 18 / 90 = 0.200000
2018-02-28 23:54:28,800: __main__: INFO:  - 'very good' conversations: 4 / 90 = 0.044444
2018-02-28 23:54:28,800: __main__: INFO: 
2018-02-28 23:54:28,800: __main__: INFO: Split into train, valid, test sets
2018-02-28 23:54:28,802: __main__: INFO: [train] 71 unique articles. Total: 2287 examples
2018-02-28 23:54:28,802: __main__: INFO: [valid] 9 unique articles. Total: 297 examples
2018-02-28 23:54:28,802: __main__: INFO: [test] 10 unique articles. Total: 310 examples
2018-02-28 23:54:28,802: __main__: INFO: 
2018-02-28 23:54:28,802: __main__: INFO: Saving to json file...
2018-02-28 23:55:12,705: __main__: INFO: done.
2018-02-28 23:55:12,709: __main__: INFO: 
2018-02-28 23:55:12,709: __main__: INFO: Building vocab on training set...
2018-02-28 23:55:13,561: __main__: INFO: Total vocabulary size: 4176
2018-02-28 23:55:13,562: __main__: INFO: Saving vocab to pkl file...
2018-02-28 23:55:13,584: __main__: INFO: done.
